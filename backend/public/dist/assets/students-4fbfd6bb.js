import{c as f,aD as j,j as t,aE as g,B as S,T as C,az as y,aa as z,aF as v,ac as A,aG as T,aH as D,r as i,aA as F,aB as N,aI as k,C as E,W as u,n as $,aC as H}from"./index-43180a0b.js";function I(){const e=f(),{close:s,isOpen:n,open:l}=j();return t.jsxs(t.Fragment,{children:[t.jsx(g,{onClose:s,open:n,confirmationTitle:"Delete All Students",confirmationDescription:"Are you sure you want to delete all students?"}),t.jsxs(S,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1},children:[t.jsx(C,{variant:"h5",component:"h1",children:"Students"}),t.jsx(y,{onColumnFilter:()=>{},onAdd:()=>e.push("/student/create")})]})]})}const c=D(),b=(e,s)=>[{itemText:"View",icon:"eva:eye-outline",onClick:()=>s==null?void 0:s.push(`/student/view/${e==null?void 0:e._id}`)},{itemText:"Edit",icon:"eva:edit-fill",onClick:()=>s==null?void 0:s.push(`/student/edit/${e==null?void 0:e._id}`)},{itemText:"Followup",icon:"mdi-light:message-processing",onClick:()=>s==null?void 0:s.push(`/followup/view/${e==null?void 0:e._id}`)},{itemText:"Submit Fee",icon:"pepicons-pop:money-note",onClick:()=>s==null?void 0:s.push(`/student-fee/create/${e==null?void 0:e._id}`)},{itemText:"Delete",color:"error.main",icon:"eva:trash-2-outline",onClick:n=>{}}],B=[{accessorKey:"avatar",cell:({getValue:e})=>t.jsx(z,{src:e(),alt:"Avatar"}),size:50},{accessorKey:"ifastId",header:"Student ID",size:150},{header:"Full Name",size:100,cell:({row:e})=>t.jsx(v,{placement:"top",title:`${e.original.firstName} ${e.original.lastName}`,children:t.jsxs("div",{children:[e.original.firstName," ",e.original.lastName]})})},c.accessor("email",{header:"Email",size:120}),c.accessor("phoneNo",{header:"Phone",size:120}),c.accessor(e=>A(e.dob),{header:"DOB",size:90}),{accessorFn:e=>{var s;return(s=e==null?void 0:e.address)==null?void 0:s.streetAddress},header:"Street Address",size:120},c.accessor(e=>{var s;return(s=e==null?void 0:e.address)==null?void 0:s.city},{header:"City",size:120}),{accessorFn:e=>{var s;return(s=e==null?void 0:e.address)==null?void 0:s.state},header:"State",size:100},{header:"Action",cell:({row:{original:e}})=>t.jsx(T,{menus:b,row:e}),size:50}];function P(){var o;const[e,s]=i.useState(1),[n,l]=i.useState(5),[h,p]=i.useState([]),{searchValue:m}=F(),x=N(),{data:a,isLoading:r,isSuccess:d}=k({page:e,pageSize:n,search:m[x]||""});return i.useEffect(()=>{d&&p((a==null?void 0:a.data)||[])},[a,d]),t.jsxs(E,{children:[t.jsx(u,{children:t.jsxs("title",{children:["Student View | ",(o=$)==null?void 0:o.appName]})}),t.jsx(H,{columnDef:B,rows:h,page:e,setPage:s,pageSize:n,setPageSize:l,total:a==null?void 0:a.count,topContent:t.jsx(I,{}),loading:r,stickyHeader:!0,height:"65vh"})]})}function _(){return t.jsxs(t.Fragment,{children:[t.jsx(u,{children:t.jsx("title",{children:" Students | IfastAcademy "})}),t.jsx(P,{})]})}export{_ as default};
