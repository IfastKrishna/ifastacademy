import{au as x,A as f,j as s,aa as y,ay as j,B as C,T as z,az as g,aA as U,aB as A,c as v,aw as c,C as F,W as h,n as P,aC as S}from"./index-43180a0b.js";const I=({page:e=1,pageSize:t=10,search:n=""})=>x({queryKey:["users",e,t,n],queryFn:async()=>(await f.get(`/user/all?page=${e}&limit=${t}&search=${n}`)).data,retry:(r,i)=>r<1,refetchOnWindowFocus:!1,staleTime:1/0}),K=[{accessorKey:"avatar",header:"Avatar",cell:({getValue:e})=>s.jsx(y,{src:e(),alt:"Avatar"}),size:50},{accessorKey:"ifastId",header:"User ID",size:150},{accessorFn:e=>(e==null?void 0:e.firstName)+" "+(e==null?void 0:e.lastName),header:"Full Name",size:150},{accessorKey:"email",header:"Email",size:150},{accessorKey:"phoneNo",header:"Phone",size:100},{header:"Role",cell:({row:{original:e}})=>s.jsx(j,{size:"small",label:e==null?void 0:e.role}),size:100}];function N({handleClickOpen:e=()=>{}}){return s.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx(z,{variant:"h5",component:"h1",children:"Users"}),s.jsx(g,{onColumnFilter:()=>{}})]})}function T(){var u;const{searchValue:e}=U(),t=A();v();const[n,r]=c.useState([]),[i,d]=c.useState(1),[l,m]=c.useState(5),{data:a,isPending:p,isSuccess:o}=I({page:i,pageSize:l,search:e[t]});return c.useEffect(()=>{o&&r((a==null?void 0:a.data)||[])},[a,o]),s.jsxs(F,{children:[s.jsx(h,{children:s.jsxs("title",{children:["User View | ",(u=P)==null?void 0:u.appName]})}),s.jsx(S,{columnDef:K,rows:n,page:i,setPage:d,pageSize:l,total:a==null?void 0:a.totalCount,setPageSize:m,height:"55vh",stickyHeader:!0,loading:p,topContent:s.jsx(N,{})})]})}function b(){return s.jsxs(s.Fragment,{children:[s.jsx(h,{children:s.jsx("title",{children:" User | IfastAcademy "})}),s.jsx(T,{})]})}export{b as default};
