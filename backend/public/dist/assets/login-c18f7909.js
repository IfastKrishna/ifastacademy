import{u as I,A as k,_ as g,b as F,c as A,r as m,d as E,j as e,B as p,S as o,e as j,I as P,f as T,g as a,h as f,i as W,k as B,l as r,L as q,m as z,T as l,n as D,a as c,D as R,W as _,o as G}from"./index-43180a0b.js";const M=()=>I({mutationFn:async s=>{const{data:i}=await k.post("/user/login",s);return i},onSuccess:s=>{console.log(s),g.success(s.message)},onError:s=>{var i,n;console.error(s),g.error(((n=(i=s==null?void 0:s.response)==null?void 0:i.data)==null?void 0:n.message)||"An error occurred. Please try again.")}}),N=M;function O(){var x,h;const s=F(),i=A(),[n,y]=m.useState(!1),{register:d,handleSubmit:b,formState:{errors:t}}=E(),{mutate:v,isPending:w,isSuccess:u}=N();m.useEffect(()=>{u&&i.push("/")},[u,i]);const L=C=>{v(C)},S=e.jsxs(p,{component:"form",onSubmit:b(L),children:[e.jsxs(o,{spacing:3,children:[e.jsx(j,{...d("email",{required:"email is required"}),label:"Email address",error:!!(t!=null&&t.email),helperText:(x=t==null?void 0:t.email)==null?void 0:x.message}),e.jsx(j,{...d("password",{required:"password is required"}),error:!!(t!=null&&t.password),helperText:(h=t==null?void 0:t.password)==null?void 0:h.message,label:"Password",type:n?"text":"password",InputProps:{endAdornment:e.jsx(P,{position:"end",children:e.jsx(T,{onClick:()=>y(!n),edge:"end",children:e.jsx(a,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(o,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(f,{variant:"subtitle2",underline:"hover",children:"Forgot password?"})}),e.jsx(W,{loading:w,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:"Login"})]});return e.jsxs(p,{sx:{...B({color:r(s.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(q,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(o,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(z,{sx:{p:5,width:1,maxWidth:420},children:[e.jsxs(l,{variant:"h4",children:["Sign in to ",D.appName]}),e.jsxs(l,{variant:"body2",sx:{mt:2,mb:5},children:["Donâ€™t have an account?",e.jsx(f,{variant:"subtitle2",sx:{ml:.5},children:"Get started"})]}),e.jsxs(o,{direction:"row",spacing:2,children:[e.jsx(c,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:r(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:google-fill",color:"#DF3E30"})}),e.jsx(c,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:r(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:facebook-fill",color:"#1877F2"})}),e.jsx(c,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:r(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:twitter-fill",color:"#1C9CEA"})})]}),e.jsx(R,{sx:{my:3},children:e.jsx(l,{variant:"body2",sx:{color:"text.secondary"},children:"OR"})}),S]})})]})}function V(){return e.jsxs(e.Fragment,{children:[e.jsx(_,{children:e.jsx("title",{children:" Login | IfastAcademy "})}),e.jsx(O,{}),e.jsx(G,{position:"top-center"})]})}export{V as default};
