import{c as x,aC as f,j as t,aD as j,B as S,T as g,ay as y,a9 as C,ab as z,aF as A,aG as F,r as i,aA as r,aB as v,aH as T,aE as D,W as k}from"./index-0e7a8f82.js";function E(){const e=x(),{close:s,isOpen:n,open:l}=f();return t.jsxs(t.Fragment,{children:[t.jsx(j,{onClose:s,open:n,confirmationTitle:"Delete All Students",confirmationDescription:"Are you sure you want to delete all students?"}),t.jsxs(S,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1},children:[t.jsx(g,{variant:"h5",component:"h1",children:"Students"}),t.jsx(y,{onColumnFilter:()=>{},onAdd:()=>e.push("/student/create")})]})]})}const c=F(),$=(e,s)=>[{itemText:"View",icon:"eva:eye-outline",onClick:()=>s==null?void 0:s.push(`/student/view/${e==null?void 0:e._id}`)},{itemText:"Edit",icon:"eva:edit-fill",onClick:()=>s==null?void 0:s.push(`/student/edit/${e==null?void 0:e._id}`)},{itemText:"Followup",icon:"mdi-light:message-processing",onClick:()=>s==null?void 0:s.push(`/followup/view/${e==null?void 0:e._id}`)},{itemText:"Submit Fee",icon:"pepicons-pop:money-note",onClick:()=>s==null?void 0:s.push(`/student-fee/create/${e==null?void 0:e._id}`)},{itemText:"Delete",color:"error.main",icon:"eva:trash-2-outline",onClick:n=>{}}],b=[{accessorKey:"avatar",cell:({getValue:e})=>t.jsx(C,{src:e(),alt:"Avatar"}),size:50},{accessorFn:e=>`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`,header:"Full Name",size:100},c.accessor("email",{header:"Email",size:120}),c.accessor("phoneNo",{header:"Phone",size:120}),c.accessor(e=>z(e.dob),{header:"DOB",size:90}),{accessorFn:e=>{var s;return(s=e==null?void 0:e.address)==null?void 0:s.streetAddress},header:"Street Address",size:120},c.accessor(e=>{var s;return(s=e==null?void 0:e.address)==null?void 0:s.city},{header:"City",size:120}),{accessorFn:e=>{var s;return(s=e==null?void 0:e.address)==null?void 0:s.state},header:"State",size:100},{header:"Action",cell:({row:{original:e}})=>t.jsx(A,{menus:$,row:e}),size:50}];function H(){const[e,s]=i.useState(1),[n,l]=i.useState(5),[u,o]=i.useState([]),{searchValue:h}=r(),m=v(),{data:a,isLoading:p,isSuccess:d}=T({page:e,pageSize:n,search:h[m]||""});return i.useEffect(()=>{d&&o((a==null?void 0:a.data)||[])},[a,d]),t.jsx(t.Fragment,{children:t.jsx(D,{columnDef:b,rows:u,page:e,setPage:s,pageSize:n,setPageSize:l,total:a==null?void 0:a.count,topContent:t.jsx(E,{}),loading:p,stickyHeader:!0,height:"65vh"})})}function N(){return t.jsxs(t.Fragment,{children:[t.jsx(k,{children:t.jsx("title",{children:" Students | IfastAcademy "})}),t.jsx(H,{})]})}export{N as default};
